<?xml version="1.0" encoding="utf-8"?>

<configuration>
   <configSections>
      <sectionGroup name="system.web.webPages.razor" type="System.Web.WebPages.Razor.Configuration.RazorWebSectionGroup, System.Web.WebPages.Razor, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35">
         <section name="pages" type="System.Web.WebPages.Razor.Configuration.RazorPagesSection, System.Web.WebPages.Razor, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" requirePermission="false" />
      </sectionGroup>
      
      <!-- KVLite Configuration Header (START) -->
      <section name="KVLiteConfiguration" type="PommaLabs.KVLite.Configuration, PommaLabs.KVLite" />
      <!-- KVLite Configuration Header (END) -->
      
      <!-- Caravan Configuration Headers (START) -->
      <section name="Finsa.Caravan.Common" type="Finsa.Caravan.Common.Configuration, Finsa.Caravan.Common" />
      <section name="Finsa.Caravan.DataAccess" type="Finsa.Caravan.DataAccess.Configuration, Finsa.Caravan.DataAccess" />
      <!-- Caravan Configuration Headers (END) -->
      
      <!-- Oracle Configuration Section (START) -->
      <section name="oracle.manageddataaccess.client" type="OracleInternal.Common.ODPMSectionHandler, Oracle.ManagedDataAccess" />
      <!-- Oracle Configuration Section (START) -->

      <!-- EF Configuration Section (START) -->
      <section name="entityFramework" type="System.Data.Entity.Internal.ConfigFile.EntityFrameworkSection, EntityFramework, Version=6.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" requirePermission="false" />
      <!-- EF Configuration Section (END) -->
   </configSections>
   
   <!-- KVLite Configuration Section (START) -->
   <KVLiteConfiguration DefaultCachePath="~/App_Data/PersistentCache/PersistentCache.sqlite" MaxCacheSizeInMB="1024" MaxLogSizeInMB="20" OperationCountBeforeSoftCleanup="50" NancyCacheKind="Persistent" />
   <!-- KVLite Configuration Section (END) -->
   
   <!-- Caravan Configuration Sections (START) -->
   <Finsa.Caravan.Common ApplicationName="caravan.restservice" ApplicationDescription="Caravan.RestService" />
   <Finsa.Caravan.DataAccess OracleUser="USERBASE" ConnectionString="Data Source=RINA11;User Id=userbase;password=userbase;" DataAccessKind="Oracle" />
   <!-- Caravan Configuration Sections (END) -->
   
   <!-- Oracle Configuration Sections (START) -->
   <oracle.manageddataaccess.client>
      <version number="*">
         <settings>
            <setting name="TNS_ADMIN" value="C:\oracle\11g_32\network\admin" />
         </settings>
      </version>
   </oracle.manageddataaccess.client>
   <!-- Oracle Configuration Sections (END) -->

   <system.data>
      <DbProviderFactories>
         <remove invariant="Oracle.ManagedDataAccess.Client" />
         <add name="Oracle Data Provider for .NET" invariant="Oracle.ManagedDataAccess.Client" description=".Net Framework Data Provider for Oracle" type="Oracle.ManagedDataAccess.Client.OracleClientFactory, Oracle.ManagedDataAccess" />
         <remove invariant="System.Data.SqlServerCe.4.0" />
         <add name="Microsoft SQL Server Compact Data Provider 4.0" invariant="System.Data.SqlServerCe.4.0" description=".NET Framework Data Provider for Microsoft SQL Server Compact" type="System.Data.SqlServerCe.SqlCeProviderFactory, System.Data.SqlServerCe, Version=4.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91" />
      </DbProviderFactories>
   </system.data>

   <entityFramework>
      <defaultConnectionFactory type="Oracle.ManagedDataAccess.Client.OracleClientFactory, Oracle.ManagedDataAccess" />
      <!--<defaultConnectionFactory type="System.Data.Entity.Infrastructure.SqlConnectionFactory, EntityFramework" />-->
      <providers>
         <provider invariantName="Oracle.ManagedDataAccess.Client" type="Oracle.ManagedDataAccess.EntityFramework.EFOracleProviderServices, Oracle.ManagedDataAccess.EntityFramework" />
         <provider invariantName="System.Data.SqlClient" type="System.Data.Entity.SqlServer.SqlProviderServices, EntityFramework.SqlServer" />
      </providers>
   </entityFramework>
   
   <system.web>
      <compilation debug="true" targetFramework="4.5">
         <buildProviders>
            <add extension=".cshtml" type="Nancy.ViewEngines.Razor.BuildProviders.NancyCSharpRazorBuildProvider, Nancy.ViewEngines.Razor.BuildProviders" />
            <add extension=".vbhtml" type="Nancy.ViewEngines.Razor.BuildProviders.NancyVisualBasicRazorBuildProvider, Nancy.ViewEngines.Razor.BuildProviders" />
         </buildProviders>
      </compilation>
      
      <httpHandlers>
         <add verb="*" type="Nancy.Hosting.Aspnet.NancyHttpRequestHandler" path="*" />
      </httpHandlers>
   </system.web>
   
   <system.webServer>
      <validation validateIntegratedModeConfiguration="false" />
      <httpErrors existingResponse="PassThrough" />
      <handlers>
         <add name="Nancy" verb="*" type="Nancy.Hosting.Aspnet.NancyHttpRequestHandler" path="*" />
      </handlers>
   </system.webServer>
   
   <appSettings>
      <add key="webPages:Enabled" value="false" />
   </appSettings>
   
   <system.web.webPages.razor>
      <pages pageBaseType="Nancy.ViewEngines.Razor.NancyRazorViewBase">
         <namespaces>
            <add namespace="Nancy.ViewEngines.Razor" />
         </namespaces>
      </pages>
   </system.web.webPages.razor>
   
   <runtime>
      <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
         <dependentAssembly>
            <assemblyIdentity name="System.Web.Razor" publicKeyToken="31bf3856ad364e35" culture="neutral" />
            <bindingRedirect oldVersion="0.0.0.0-3.0.0.0" newVersion="3.0.0.0" />
         </dependentAssembly>
         <dependentAssembly>
            <assemblyIdentity name="System.Data.SQLite" publicKeyToken="db937bc2d44ff139" culture="neutral" />
            <bindingRedirect oldVersion="0.0.0.0-1.0.94.0" newVersion="1.0.94.0" />
         </dependentAssembly>
      </assemblyBinding>
   </runtime>
</configuration>