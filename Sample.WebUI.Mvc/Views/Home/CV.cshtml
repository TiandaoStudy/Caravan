@using System.Data
@using Finsa.Caravan.Common.Models.Formatting
@using Finsa.Caravan.Mvc.Controls.PageElements
@using Finsa.Caravan.Mvc.Controls.ValueHolders
@using Finsa.Caravan.Mvc.Controls.DataVisualization
@using Finsa.Caravan.Testing
@model dynamic

@{
   ViewBag.Title = "title";
   Layout = "~/Caravan.Mvc/Views/Shared/Pages/VerticalSearchLayout.cshtml";
   ViewBag.DataColumns = new[] { "A", "B", "C" };
   var gen = new RandomDataTableGenerator(ViewBag.DataColumns);
   ViewBag.DataSource = gen.GenerateDataTable(5000);
}

@section SearchCriteriaSection {

   @Html.CaravanVerticalSearchCriteria(new List<CaravanVerticalSearchCriteriumOptions>
   {
      new CaravanVerticalSearchCriteriumOptions
      {
         Label = "Prova", Control = () => Html.RadioButton("PROVA", 4, true)
      },
      new CaravanVerticalSearchCriteriumOptions
      {
         Label = "Prova", Control = () => Html.RadioButton("PROVA", 4, true)
      },
      new CaravanVerticalSearchCriteriumOptions
      {
         Label = "Switch", Control = () => Html.BootstrapSwitch(new BootstrapSwitchOptions {ID="onoff", State = true})
      }
   })
}

@section DataGridSection {

   @Ajax.BootstrapTable(new BootstrapTableOptions()
   {
      ShowExportButton = true,
      ShowPagination = true,
      ShowSearchBox = true,
      Items = ((DataTable) ViewBag.DataSource).Rows.Cast<DataRow>().Select(x => x.ItemArray),
      Columns = new List<BootstrapTableColumnOptions>() 
      {
         new BootstrapTableColumnOptions{
            Header = "A",
            HorizontalAlignment = HorizonalTextAlignment.Left,
            Sortable = false,
            VerticalAlignment = VerticalTextAlignment.Middle,
            Control = (x) => LabelExtensions.Label(Html, x[0])
         },
        
         new BootstrapTableColumnOptions{
            Header = "B",
            HorizontalAlignment = HorizonalTextAlignment.Left,
            Sortable = false,
            VerticalAlignment = VerticalTextAlignment.Middle,
            Control = (x) => Html.Label("")
         },
        
         new BootstrapTableColumnOptions{
            Header = "C",
            HorizontalAlignment = HorizonalTextAlignment.Left,
            Sortable = false,
            VerticalAlignment = VerticalTextAlignment.Middle,
            Control = (x) => Html.Label("")
         }
      }
   })
 
   <h2>title</h2>

}
